<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>C with Classes</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Software Development</a></td></tr></table></div><div class="tocviewsublistonly" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="abstract.html" class="tocviewlink" data-pltdoc="x">Abstract</a></td></tr><tr><td align="right"></td><td><a href="general.html" class="tocviewlink" data-pltdoc="x">General</a></td></tr><tr><td align="right"></td><td><a href="schedule.html" class="tocviewlink" data-pltdoc="x">Schedule</a></td></tr><tr><td align="right"></td><td><a href="readings.html" class="tocviewlink" data-pltdoc="x">Readings</a></td></tr><tr><td align="right"></td><td><a href="lab.html" class="tocviewlink" data-pltdoc="x">Lab Book</a></td></tr><tr><td align="right"></td><td><a href="projects.html" class="tocviewlink" data-pltdoc="x">Assignments, Overview</a></td></tr><tr><td align="right"></td><td><a href="make.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Make</a></td></tr><tr><td align="right"></td><td><a href="reviews.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Reviews</a></td></tr><tr><td align="right"></td><td><a href="projects2.html" class="tocviewlink" data-pltdoc="x">Assignments, Actual</a></td></tr><tr><td align="right"></td><td><a href="" class="tocviewselflink" data-pltdoc="x">C with Classes</a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">7.5</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="projects2.html" title="backward to &quot;Assignments, Actual&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Software Development&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h3><a name="(part._cwc)"></a>C with Classes</h3><p><span class="refelem"><span class="refcolumn"><span class="refcontent"><img src="readme.png" alt="don't" width="52" height="38"/></span></span></span></p><p>&#8220;C with Classes&#8221; is a dialect of C++11 used in SwDV&#8217;20. It has three main
goals: (1) be easy to learn for Java developers, (2) expose developers to
manual memory management, and (3) act as a style guide to ease sharing code
among teams.</p><p>We do <span style="color: red">not</span> aim to teach C++ (other classes do) or teach low-level or
systems&rsquo; programming (other classes do that). CwC is a vehicle for exploring
interesting problems in software design.</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>C++ supports separate compilation, the code that implements
classes would normally be in independent <span class="stt">.cpp</span> files that can be
compiled independently of one another. Our approach will not scale to
large code bases but should be fine for our purposes.</p></blockquote></blockquote></blockquote><p><span style="font-weight: bold">Files:</span> A CwC program consists of one <span class="stt">.cpp</span> file and
multiple <span class="stt">.h</span> files.  Each file starts with a comment that
documents which language is being used. Files starting with
<span class="stt">//lang::CwC</span> use the subset described here, files that start with
<span class="stt">//lang::Cpp</span> are written in C++11. While the project does not
require C++, you have an escape hatch if you feel it is needed. All
<a href="https://devdocs.io/c">C library functions</a> are available.</p><p><span style="font-weight: bold">Congruences:</span> Any feature that is syntactically and semantically
congruent to Java is available in CwC. This means in particular that the
control structures (<span class="stt">if-then</span>, <span class="stt">for</span>, <span class="stt">while</span>, <span class="stt">switch</span>,
<span class="stt">break</span>, <span class="stt">return</span>) and primitive types (<span class="stt">int</span>, <span class="stt">char</span>,
<span class="stt">long</span>, <span class="stt">double</span>, <span class="stt">float</span>, <span class="stt">short</span>, <span class="stt">bool</span>) are available.</p><p><span style="font-weight: bold">Unsigned:</span> The type <span class="stt">size_t</span> is handy for unsigned long (<span style="font-style: italic">i.e.</span>
64-bit) values, for example for indexing in arrays.</p><p><span style="font-weight: bold">C strings:</span> are defined as an array of characters terminated with a
special character &rsquo;\0&rsquo;. To compute the length of a string:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">size_t</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">length</span><span class="RktPn">(</span><span class="RktMeta">char</span><span class="RktPn">*</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">p</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">size_t</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">len</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktMeta">while</span><span class="RktPn">(</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">p</span><span class="RktPn">[</span><span class="RktMeta">len</span><span class="RktPn">]</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">!=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">'\0'</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">len</span><span class="RktPn">++</span><span class="RktPn">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktMeta">return</span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">len</span><span class="RktPn">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">}</span><span class="RktMeta"></span></td></tr></table></blockquote><p>Traditionally, the length does not count the trailing terminator. Thus a
string is constructed by allocating memory for the number of characters
that it should hold plus one. The empty string is a character array of
length one. To create the string <span class="stt">Hi</span> one could write:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktMeta">size_t</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">len</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">2</span><span class="RktPn">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktMeta">char</span><span class="RktPn">*</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">c</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta">new</span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">char</span><span class="RktPn">[</span><span class="RktMeta">len</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">+</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">1</span><span class="RktPn">]</span><span class="RktPn">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktMeta">c</span><span class="RktPn">[</span><span class="RktVal">0</span><span class="RktPn">]</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">'H'</span><span class="RktPn">;</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">c</span><span class="RktPn">[</span><span class="RktVal">1</span><span class="RktPn">]</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">'i'</span><span class="RktPn">;</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">c</span><span class="RktPn">[</span><span class="RktVal">2</span><span class="RktPn">]</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">'\0'</span><span class="RktPn">;</span><span class="RktMeta"></span></td></tr></table></blockquote><p>Lastly, string literals, <span style="font-style: italic">i.e.</span> string constants written <span class="stt">"hi"</span>
have type <span class="stt">const char*</span> to make obvious that they should not modified.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta">const</span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">char</span><span class="RktPn">*</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">c</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"hi"</span><span class="RktPn">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktMeta">c</span><span class="RktPn">[</span><span class="RktVal">0</span><span class="RktPn">]</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">'H'</span><span class="RktPn">;</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">//</span><span class="hspace">&nbsp;</span><span class="RktCmt">not</span><span class="hspace">&nbsp;</span><span class="RktCmt">allowed</span><span class="hspace">&nbsp;</span><span class="RktCmt">by</span><span class="hspace">&nbsp;</span><span class="RktCmt">the</span><span class="hspace">&nbsp;</span><span class="RktCmt">compiler</span></td></tr><tr><td><span class="RktCmt"></span><span class="RktMeta">char</span><span class="RktPn">*</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">no</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">const_cast</span><span class="RktPn">&lt;</span><span class="RktMeta">char</span><span class="RktPn">*</span><span class="RktPn">&gt;</span><span class="RktPn">(</span><span class="RktMeta">c</span><span class="RktPn">)</span><span class="RktPn">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktMeta">c</span><span class="RktPn">[</span><span class="RktVal">0</span><span class="RktPn">]</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">'H'</span><span class="RktPn">;</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">//</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">allowed</span><span class="hspace">&nbsp;</span><span class="RktCmt">but</span><span class="hspace">&nbsp;</span><span class="RktCmt">will</span><span class="hspace">&nbsp;</span><span class="RktCmt">cause</span><span class="hspace">&nbsp;</span><span class="RktCmt">an</span><span class="hspace">&nbsp;</span><span class="RktCmt">error</span><span class="RktMeta"></span></td></tr></table></blockquote><p>The above code block, declares a variable <span class="stt">c</span> that refers to a constant
string <span class="stt">hi</span>. Trying to change the first letter of <span class="stt">c</span> to an upper case
<span class="stt">H</span> is caught by the C++ compiler. One can cast the <span class="stt">const</span> away, but
the program will likely stop with an access violation if you try to modify
the string literal as they are stored in read-only memory.  If you really
need to change a literal string, copy it (<span style="font-style: italic">e.g.</span> with <span class="stt">strdup()</span>).</p><p><span style="font-weight: bold">Classes:</span> CwC classes use a subset of the C++ syntax and features.
A CwC class has a name, a parent class, zero or more fields, one or more
constructors, a destructor, zero or more methods.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta">class</span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">ClassName</span><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta">public</span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">ParentName</span><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta">public</span><span class="RktPn">:</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">fields</span><span class="RktPn">.</span><span class="RktPn">.</span><span class="RktPn">.</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">constructors</span><span class="RktPn">.</span><span class="RktPn">.</span><span class="RktPn">.</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">destructor</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">methods</span><span class="RktPn">.</span><span class="RktPn">.</span><span class="RktPn">.</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">}</span><span class="RktPn">;</span><span class="RktMeta"></span></td></tr></table></blockquote><p>The keyword <span class="stt">public</span> on the parent and before the methods and fields is
used to ensure that all declarations are accessible to other classes in the
project. Note the semi-colon after the closing brace, if you don&rsquo;t the
compiler will remind you.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktMeta">/**</span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta">*</span><span class="hspace">&nbsp;</span><span class="RktMeta">2DPoint</span><span class="hspace">&nbsp;</span><span class="RktMeta">represents</span><span class="hspace">&nbsp;</span><span class="RktMeta">two</span><span class="hspace">&nbsp;</span><span class="RktMeta">dimensional</span><span class="hspace">&nbsp;</span><span class="RktMeta">coordinates</span><span class="hspace">&nbsp;</span><span class="RktMeta">with</span><span class="hspace">&nbsp;</span><span class="RktMeta">a</span><span class="hspace">&nbsp;</span><span class="RktMeta">pair</span><span class="hspace">&nbsp;</span><span class="RktMeta">of</span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta">*</span><span class="hspace">&nbsp;</span><span class="RktMeta">integer</span><span class="hspace">&nbsp;</span><span class="RktMeta">variables.</span><span class="hspace">&nbsp;</span><span class="RktMeta">2DPoints</span><span class="hspace">&nbsp;</span><span class="RktMeta">are</span><span class="hspace">&nbsp;</span><span class="RktMeta">immutable.</span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta">*</span><span class="hspace">&nbsp;</span><span class="RktMeta">author:</span><span class="hspace">&nbsp;</span><span class="RktMeta">jo@husky.neu.edu</span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta">*/</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">class</span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">2DPoint</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta">public</span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">Object</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">public</span><span class="RktPn">:</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">int</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">x_</span><span class="RktPn">;</span><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">//</span><span class="hspace">&nbsp;</span><span class="RktCmt">x</span><span class="hspace">&nbsp;</span><span class="RktCmt">coordinate</span></td></tr><tr><td><span class="RktCmt"></span><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">int</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">y_</span><span class="RktPn">;</span><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">//</span><span class="hspace">&nbsp;</span><span class="RktCmt">y</span><span class="hspace">&nbsp;</span><span class="RktCmt">coordinate</span></td></tr><tr><td><span class="RktCmt"></span><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">/**</span><span class="hspace">&nbsp;</span><span class="RktMeta">Default</span><span class="hspace">&nbsp;</span><span class="RktMeta">constructor</span><span class="hspace">&nbsp;</span><span class="RktMeta">initializes</span><span class="hspace">&nbsp;</span><span class="RktMeta">point</span><span class="hspace">&nbsp;</span><span class="RktMeta">to</span><span class="hspace">&nbsp;</span><span class="RktMeta">the</span><span class="hspace">&nbsp;</span><span class="RktMeta">origin</span><span class="hspace">&nbsp;</span><span class="RktMeta">*/</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">2DPoint</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">Object</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">x_</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">y_</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">/**</span><span class="hspace">&nbsp;</span><span class="RktMeta">Initializing</span><span class="hspace">&nbsp;</span><span class="RktMeta">constructor.</span><span class="hspace">&nbsp;</span><span class="RktMeta">*/</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">2DPoint</span><span class="RktPn">(</span><span class="RktMeta">int</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">x</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">int</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">y</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">Object</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">x_</span><span class="RktPn">(</span><span class="RktMeta">x</span><span class="RktPn">)</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">y_</span><span class="RktPn">(</span><span class="RktMeta">y</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">{</span><span class="RktPn">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">/**</span><span class="hspace">&nbsp;</span><span class="RktMeta">Initializing</span><span class="hspace">&nbsp;</span><span class="RktMeta">constructor.</span><span class="hspace">&nbsp;</span><span class="RktMeta">*/</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">2DPoint</span><span class="RktPn">(</span><span class="RktMeta">2DPoint</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">&amp;</span><span class="RktMeta">p</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">Object</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">x_</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">p</span><span class="RktPn">.</span><span class="RktMeta">x_</span><span class="RktPn">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">y_</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">p</span><span class="RktPn">.</span><span class="RktMeta">y_</span><span class="RktPn">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">/**</span><span class="hspace">&nbsp;</span><span class="RktMeta">Destructor</span><span class="hspace">&nbsp;</span><span class="RktMeta">*/</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">~</span><span class="RktMeta">2DPoint</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">{</span><span class="RktPn">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">/**</span><span class="hspace">&nbsp;</span><span class="RktMeta">Getter</span><span class="hspace">&nbsp;</span><span class="RktMeta">for</span><span class="hspace">&nbsp;</span><span class="RktMeta">x</span><span class="hspace">&nbsp;</span><span class="RktMeta">*/</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">virtual</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">int</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">get_x</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">{</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta">return</span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">x_</span><span class="RktPn">;</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">/**</span><span class="hspace">&nbsp;</span><span class="RktMeta">Getter</span><span class="hspace">&nbsp;</span><span class="RktMeta">for</span><span class="hspace">&nbsp;</span><span class="RktMeta">y</span><span class="hspace">&nbsp;</span><span class="RktMeta">*/</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">virtual</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">int</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">get_x</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">{</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta">return</span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">y_</span><span class="RktPn">;</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">}</span><span class="RktPn">;</span><span class="RktMeta"></span></td></tr></table></blockquote><p>The above is an example of class declaration for an immutable point class.
The getter methods are declared virtual to allow subclasses to override them
if need be. The third constructor takes a reference to another point (rather
than a pointer) to emphasize that it does not retain that object. The
destructor is not marked <span class="stt">virtual</span> because we assume the parent class did
that for us.</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>There is another reason for not declaring multiple variables in
one line: <span class="stt">char* c,d;</span> is equivalent to <span class="stt">char* c:</span> and <span class="stt">char d;</span>.
This is part of the C legacy.</p></blockquote></blockquote></blockquote><p><span style="font-weight: bold">Fields:</span> Fields are declared by giving a type name and a field name.
Do not declare multiple fields on the same line as it makes it harder to
write comments for each of them.</p><p><span style="font-weight: bold">Constructors:</span> A class may have multiple constructors. A constructor
should initialize all the fields of a class. Unlike in Java, fields are not
initialize to zero in C++. Unintialized fields can hold random values and
can cause surprising bugs.  A constructor consists of the name of the
class followed by arguments, then it can invoke the parent constructor,
field initializers and have a block of code.  For example here is a
constructor for a color point:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta">class</span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">2DColorPoint</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta">public</span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">2DPoint</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">public</span><span class="RktPn">:</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">char</span><span class="RktPn">*</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">col_</span><span class="RktPn">;</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">//</span><span class="hspace">&nbsp;</span><span class="RktCmt">owned;</span><span class="hspace">&nbsp;</span><span class="RktCmt">the</span><span class="hspace">&nbsp;</span><span class="RktCmt">color</span><span class="hspace">&nbsp;</span><span class="RktCmt">of</span><span class="hspace">&nbsp;</span><span class="RktCmt">this</span><span class="hspace">&nbsp;</span><span class="RktCmt">point</span></td></tr><tr><td><span class="RktCmt"></span><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">/**</span><span class="hspace">&nbsp;</span><span class="RktMeta">Constructor</span><span class="hspace">&nbsp;</span><span class="RktMeta">*/</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">2DColorPoint</span><span class="RktPn">(</span><span class="RktMeta">int</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">x</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">int</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">y</span><span class="RktPn">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">char</span><span class="RktPn">*</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">color</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">2DPoint</span><span class="RktPn">(</span><span class="RktMeta">x</span><span class="RktPn">,</span><span class="RktMeta">y</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">assert</span><span class="RktPn">(</span><span class="RktMeta">color</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">!=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">nullptr</span><span class="RktPn">)</span><span class="RktPn">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">size_t</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">len</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">strlen</span><span class="RktPn">(</span><span class="RktMeta">color</span><span class="RktPn">)</span><span class="RktPn">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">col_</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta">new</span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">char</span><span class="RktPn">[</span><span class="RktMeta">len</span><span class="RktPn">+</span><span class="RktVal">1</span><span class="RktPn">]</span><span class="RktPn">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">strcpy</span><span class="RktPn">(</span><span class="RktMeta">col_</span><span class="RktPn">,</span><span class="RktMeta">color</span><span class="RktPn">)</span><span class="RktPn">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">}</span><span class="RktMeta"></span></td></tr></table></blockquote><p>The parent constructor can be left out, in which case the default
constructor will be invoked.  Fields can be either initialized in the
constructor&rsquo;s body or with field initializers after the colon.</p><p><span style="font-weight: bold">Destructor:</span> There is a single destructor per class. It can be
declared <span class="stt">virtual</span> if the class will have subclasses. The destructor is
run whenever an object is <span class="stt">delete</span>d or goes out of scope. The destructor
should delete all owned data and finalize any external resources owned by
the object.</p><p><span style="font-weight: bold">Methods:</span> are declared by giving the keyword <span class="stt">virtual</span>, the type of
the return value (or <span class="stt">void</span>) the name of the method, a list of arguments
and a body. Multiple methods of the same name but with different argument
types are allowed (this is call overloading). The <span class="stt">virtual</span> keyword can
be omitted if we are redefining a method.</p><p><span style="font-weight: bold">Allocation and deallocation:</span> To allocate a value on the heap, use the
<span class="stt">new</span> operator, and to deallocate use <span class="stt">delete</span>.  Calling <span class="stt">delete</span>
on a <span class="stt">nullptr</span> does nothing. The <span class="stt">delete[]</span> operator is used for
arrays, it deletes every element of the array before freeing the array
itself.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktMeta">char</span><span class="RktPn">*</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">c1</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta">new</span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">char</span><span class="RktPn">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktMeta">char</span><span class="RktPn">*</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">c2</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta">new</span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">char</span><span class="RktPn">[</span><span class="RktVal">1</span><span class="RktPn">]</span><span class="RktPn">;</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">//</span><span class="hspace">&nbsp;</span><span class="RktCmt">same</span><span class="hspace">&nbsp;</span><span class="RktCmt">as</span><span class="hspace">&nbsp;</span><span class="RktCmt">above</span></td></tr><tr><td><span class="RktCmt"></span><span class="RktMeta">char</span><span class="RktPn">*</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">c3</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta">new</span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">char</span><span class="RktPn">[</span><span class="RktVal">0</span><span class="RktPn">]</span><span class="RktPn">;</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">//</span><span class="hspace">&nbsp;</span><span class="RktCmt">meaningless.</span><span class="hspace">&nbsp;</span><span class="RktCmt">Don't</span></td></tr><tr><td><span class="RktCmt"></span><span class="RktMeta">2DPoint</span><span class="RktPn">*</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">p</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta">new</span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">2DPoint</span><span class="RktPn">(</span><span class="RktVal">0</span><span class="RktPn">,</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">;</span><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">//</span><span class="hspace">&nbsp;</span><span class="RktCmt">a</span><span class="hspace">&nbsp;</span><span class="RktCmt">single</span><span class="hspace">&nbsp;</span><span class="RktCmt">point</span></td></tr><tr><td><span class="RktCmt"></span><span class="RktMeta">2DPoint</span><span class="RktPn">*</span><span class="RktPn">*</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">arr</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta">new</span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">2DPoint</span><span class="RktPn">[</span><span class="RktVal">10</span><span class="RktPn">]</span><span class="RktPn">;</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">//</span><span class="hspace">&nbsp;</span><span class="RktCmt">an</span><span class="hspace">&nbsp;</span><span class="RktCmt">array</span><span class="hspace">&nbsp;</span><span class="RktCmt">of</span><span class="hspace">&nbsp;</span><span class="RktCmt">10</span><span class="hspace">&nbsp;</span><span class="RktCmt">pointers</span><span class="hspace">&nbsp;</span><span class="RktCmt">to</span><span class="hspace">&nbsp;</span><span class="RktCmt">points</span><span class="RktMeta"></span></td></tr></table></blockquote><p><span style="font-weight: bold">Assert</span> The <span class="stt">assert()</span> function is useful to check that the state
of the program is as expected.</p><p><span style="font-weight: bold">Stack v. Heap:</span> Values can be allocated on the heap (via <span class="stt">new</span>) or
on the stack.  The main difference is that a stack allocated value will be
automatically deallocated when the current function returns.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktMeta">String</span><span class="RktPn">*</span><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">f</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">String</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">s1</span><span class="RktPn">(</span><span class="RktVal">"hi"</span><span class="RktPn">)</span><span class="RktPn">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">String</span><span class="RktPn">*</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">s0</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta">new</span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">String</span><span class="RktPn">(</span><span class="RktVal">"hi"</span><span class="RktPn">)</span><span class="RktPn">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta">return</span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">s0</span><span class="RktPn">;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">}</span><span class="RktMeta"></span></td></tr></table></blockquote><p>The function <span class="stt">f</span> creates two string objects, one is stack allocated and
will be destructed when the function returns, the other is heap allocated
and will continue to exist after the funtion returns. It would be an error
to try to <span class="stt">return</span> s1}. In fact the compiler would prevent that.</p><p>Heap allocated object are typically references through pointer variables.
To get to a field or method, we must use the arrow operator (<span style="font-style: italic">e.g</span>
<span class="stt">s0-&gt;size_</span> or <span class="stt">s0-&gt;size()</span>).</p><p>Stack allocated objects are access by reference and we use the dot operator
(<span style="font-style: italic">e.g.</span> <span class="stt">s1.size_</span> or <span class="stt">s1.size()</span>.  The compiler will remind
you when you forget.</p><p><span style="font-weight: bold">Casts:</span> We will <span class="stt">dynamic_cast</span> to check that an object is a
subclass of a type, <span class="stt">static_cast</span> for casts that are always safe,
<span class="stt">reinterpret_cast</span> and <span class="stt">const_cast</span> in exceptional situations.</p><p><span style="font-weight: bold">Including files:</span> The <span class="stt">#include</span> directive tells the compiler to
copy the specified file in the current file.  Included files are found in
the current directory (<span class="stt">#include "helper.h"</span>) or looked up in the C++
distribution (<span class="stt">#include &lt;assert.h&gt;</span>. To avoid including the same file
multiple times, start every file with <span class="stt">#pragma once</span>.</p><p><span style="font-weight: bold">Anti-features:</span>
The following are not going to be used in CwC.</p><ul><li><p>Multiple inheritance</p></li><li><p>separate compilation</p></li><li><p><span class="stt">private:</span> and <span class="stt">protected:</span></p></li><li><p>templates</p></li><li><p>operator overloading</p></li><li><p><span class="stt">auto</span> declaration</p></li><li><p>iterators</p></li><li><p>move constructors</p></li><li><p><span class="stt">using</span>, <span class="stt">namespace</span></p></li><li><p>override</p></li><li><p>exceptions, try, catch</p></li><li><p>separate compilation</p></li><li><p>C++ standard library classes</p></li><li><p><span class="stt">struct</span>, <span class="stt">malloc</span>, <span class="stt">free</span></p></li><li><p>macros</p></li><li><p>lambdas</p></li><li><p>nested classes</p></li><li><p>optional arguments</p></li><li><p>...</p></li></ul><p><span style="font-weight: bold"><span style="color: red">Errata:</span></span> The function length was incorrect, it returned a result
off by one. Fixed.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="projects2.html" title="backward to &quot;Assignments, Actual&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Software Development&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>